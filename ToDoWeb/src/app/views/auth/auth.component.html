<section class="mainSection relative">
    <!-- <div class="w-30 pt-4 mx-auto flex justify-center">
        <svg class="w-20" viewBox="0 0 175 69" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M23 6.54688V68H16.9531V6.54688H0.921875V0.78125H39.0312V6.54688H23Z" fill="currentColor" />
            <path
                d="M74.9844 54.8281C74.9844 56.7656 74.6094 58.5938 73.8594 60.3125C73.1406 62.0312 72.1406 63.5312 70.8594 64.8125C69.5781 66.0938 68.0781 67.1094 66.3594 67.8594C64.6406 68.5781 62.8125 68.9375 60.875 68.9375H57.0312C55.0938 68.9375 53.2656 68.5781 51.5469 67.8594C49.8281 67.1094 48.3281 66.0938 47.0469 64.8125C45.7656 63.5312 44.75 62.0312 44 60.3125C43.2812 58.5938 42.9219 56.7656 42.9219 54.8281V33.1719C42.9219 31.2344 43.2812 29.4062 44 27.6875C44.75 25.9688 45.7656 24.4688 47.0469 23.1875C48.3281 21.9062 49.8281 20.9062 51.5469 20.1875C53.2656 19.4375 55.0938 19.0625 57.0312 19.0625H60.875C62.8125 19.0625 64.6406 19.4375 66.3594 20.1875C68.0781 20.9062 69.5781 21.9062 70.8594 23.1875C72.1406 24.4688 73.1406 25.9688 73.8594 27.6875C74.6094 29.4062 74.9844 31.2344 74.9844 33.1719V54.8281ZM69.2188 32.8438C69.2188 31.6875 69 30.6094 68.5625 29.6094C68.125 28.5781 67.5312 27.6875 66.7812 26.9375C66.0312 26.1875 65.1406 25.5938 64.1094 25.1562C63.1094 24.7188 62.0312 24.5 60.875 24.5H57.0312C55.875 24.5 54.7812 24.7188 53.75 25.1562C52.75 25.5938 51.875 26.1875 51.125 26.9375C50.375 27.6875 49.7812 28.5781 49.3438 29.6094C48.9062 30.6094 48.6875 31.6875 48.6875 32.8438V55.1562C48.6875 56.3125 48.9062 57.4062 49.3438 58.4375C49.7812 59.4375 50.375 60.3125 51.125 61.0625C51.875 61.8125 52.75 62.4062 53.75 62.8438C54.7812 63.2812 55.875 63.5 57.0312 63.5H60.875C62.0312 63.5 63.1094 63.2812 64.1094 62.8438C65.1406 62.4062 66.0312 61.8125 66.7812 61.0625C67.5312 60.3125 68.125 59.4375 68.5625 58.4375C69 57.4062 69.2188 56.3125 69.2188 55.1562V32.8438Z"
                fill="currentColor" />
            <path
                d="M126.266 51.5C126.266 53.7812 125.828 55.9219 124.953 57.9219C124.109 59.9219 122.938 61.6719 121.438 63.1719C119.938 64.6719 118.172 65.8594 116.141 66.7344C114.141 67.5781 112 68 109.719 68H88.4375V0.78125H109.719C112 0.78125 114.141 1.21875 116.141 2.09375C118.172 2.9375 119.938 4.10938 121.438 5.60938C122.938 7.10938 124.109 8.875 124.953 10.9062C125.828 12.9062 126.266 15.0469 126.266 17.3281V51.5ZM120.219 17.3281C120.219 15.8281 119.938 14.4375 119.375 13.1562C118.812 11.8438 118.031 10.7031 117.031 9.73438C116.062 8.73438 114.922 7.95312 113.609 7.39062C112.328 6.82812 110.938 6.54688 109.438 6.54688H94.4844V62.2344H109.438C110.938 62.2344 112.328 61.9531 113.609 61.3906C114.922 60.8281 116.062 60.0625 117.031 59.0938C118.031 58.125 118.812 57 119.375 55.7188C119.938 54.4062 120.219 53 120.219 51.5V17.3281Z"
                fill="currentColor" />
            <path
                d="M170.797 54.8281C170.797 56.7656 170.422 58.5938 169.672 60.3125C168.953 62.0312 167.953 63.5312 166.672 64.8125C165.391 66.0938 163.891 67.1094 162.172 67.8594C160.453 68.5781 158.625 68.9375 156.688 68.9375H152.844C150.906 68.9375 149.078 68.5781 147.359 67.8594C145.641 67.1094 144.141 66.0938 142.859 64.8125C141.578 63.5312 140.562 62.0312 139.812 60.3125C139.094 58.5938 138.734 56.7656 138.734 54.8281V33.1719C138.734 31.2344 139.094 29.4062 139.812 27.6875C140.562 25.9688 141.578 24.4688 142.859 23.1875C144.141 21.9062 145.641 20.9062 147.359 20.1875C149.078 19.4375 150.906 19.0625 152.844 19.0625H156.688C158.625 19.0625 160.453 19.4375 162.172 20.1875C163.891 20.9062 165.391 21.9062 166.672 23.1875C167.953 24.4688 168.953 25.9688 169.672 27.6875C170.422 29.4062 170.797 31.2344 170.797 33.1719V54.8281ZM165.031 32.8438C165.031 31.6875 164.812 30.6094 164.375 29.6094C163.938 28.5781 163.344 27.6875 162.594 26.9375C161.844 26.1875 160.953 25.5938 159.922 25.1562C158.922 24.7188 157.844 24.5 156.688 24.5H152.844C151.688 24.5 150.594 24.7188 149.562 25.1562C148.562 25.5938 147.688 26.1875 146.938 26.9375C146.188 27.6875 145.594 28.5781 145.156 29.6094C144.719 30.6094 144.5 31.6875 144.5 32.8438V55.1562C144.5 56.3125 144.719 57.4062 145.156 58.4375C145.594 59.4375 146.188 60.3125 146.938 61.0625C147.688 61.8125 148.562 62.4062 149.562 62.8438C150.594 63.2812 151.688 63.5 152.844 63.5H156.688C157.844 63.5 158.922 63.2812 159.922 62.8438C160.953 62.4062 161.844 61.8125 162.594 61.0625C163.344 60.3125 163.938 59.4375 164.375 58.4375C164.812 57.4062 165.031 56.3125 165.031 55.1562V32.8438Z"
                fill="currentColor" />
            <path
                d="M154.56 53.2L154.88 46.8C155.52 44.9867 156.256 43.2267 157.088 41.52C157.92 39.792 158.795 38.16 159.712 36.624C160.629 35.0667 161.568 33.616 162.528 32.272C163.488 30.928 164.416 29.712 165.312 28.624C166.208 27.5147 167.04 26.5653 167.808 25.776C168.597 24.9653 169.269 24.3253 169.824 23.856L174.016 24.4C173.056 25.4667 172.011 26.7573 170.88 28.272C169.771 29.7653 168.651 31.4187 167.52 33.232C166.389 35.0453 165.291 36.9653 164.224 38.992C163.157 40.9973 162.187 43.056 161.312 45.168C160.437 47.28 159.701 49.392 159.104 51.504C158.528 53.5947 158.155 55.6213 157.984 57.584L150.88 57.04L144.32 40.4L149.696 39.76L154.56 53.2Z"
                fill="currentColor" />
        </svg>
    </div> -->
    <!-- <div class="pt-4 text-center">
        <h1>ToDo</h1>
    </div> -->

    <div class="flex flex-col items-center justify-evenly textColor pt-2">
        <svg class="w-14" viewBox="0 0 175 69" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M23 6.54688V68H16.9531V6.54688H0.921875V0.78125H39.0312V6.54688H23Z" fill="currentColor" />
            <path
                d="M74.9844 54.8281C74.9844 56.7656 74.6094 58.5938 73.8594 60.3125C73.1406 62.0312 72.1406 63.5312 70.8594 64.8125C69.5781 66.0938 68.0781 67.1094 66.3594 67.8594C64.6406 68.5781 62.8125 68.9375 60.875 68.9375H57.0312C55.0938 68.9375 53.2656 68.5781 51.5469 67.8594C49.8281 67.1094 48.3281 66.0938 47.0469 64.8125C45.7656 63.5312 44.75 62.0312 44 60.3125C43.2812 58.5938 42.9219 56.7656 42.9219 54.8281V33.1719C42.9219 31.2344 43.2812 29.4062 44 27.6875C44.75 25.9688 45.7656 24.4688 47.0469 23.1875C48.3281 21.9062 49.8281 20.9062 51.5469 20.1875C53.2656 19.4375 55.0938 19.0625 57.0312 19.0625H60.875C62.8125 19.0625 64.6406 19.4375 66.3594 20.1875C68.0781 20.9062 69.5781 21.9062 70.8594 23.1875C72.1406 24.4688 73.1406 25.9688 73.8594 27.6875C74.6094 29.4062 74.9844 31.2344 74.9844 33.1719V54.8281ZM69.2188 32.8438C69.2188 31.6875 69 30.6094 68.5625 29.6094C68.125 28.5781 67.5312 27.6875 66.7812 26.9375C66.0312 26.1875 65.1406 25.5938 64.1094 25.1562C63.1094 24.7188 62.0312 24.5 60.875 24.5H57.0312C55.875 24.5 54.7812 24.7188 53.75 25.1562C52.75 25.5938 51.875 26.1875 51.125 26.9375C50.375 27.6875 49.7812 28.5781 49.3438 29.6094C48.9062 30.6094 48.6875 31.6875 48.6875 32.8438V55.1562C48.6875 56.3125 48.9062 57.4062 49.3438 58.4375C49.7812 59.4375 50.375 60.3125 51.125 61.0625C51.875 61.8125 52.75 62.4062 53.75 62.8438C54.7812 63.2812 55.875 63.5 57.0312 63.5H60.875C62.0312 63.5 63.1094 63.2812 64.1094 62.8438C65.1406 62.4062 66.0312 61.8125 66.7812 61.0625C67.5312 60.3125 68.125 59.4375 68.5625 58.4375C69 57.4062 69.2188 56.3125 69.2188 55.1562V32.8438Z"
                fill="currentColor" />
            <path
                d="M126.266 51.5C126.266 53.7812 125.828 55.9219 124.953 57.9219C124.109 59.9219 122.938 61.6719 121.438 63.1719C119.938 64.6719 118.172 65.8594 116.141 66.7344C114.141 67.5781 112 68 109.719 68H88.4375V0.78125H109.719C112 0.78125 114.141 1.21875 116.141 2.09375C118.172 2.9375 119.938 4.10938 121.438 5.60938C122.938 7.10938 124.109 8.875 124.953 10.9062C125.828 12.9062 126.266 15.0469 126.266 17.3281V51.5ZM120.219 17.3281C120.219 15.8281 119.938 14.4375 119.375 13.1562C118.812 11.8438 118.031 10.7031 117.031 9.73438C116.062 8.73438 114.922 7.95312 113.609 7.39062C112.328 6.82812 110.938 6.54688 109.438 6.54688H94.4844V62.2344H109.438C110.938 62.2344 112.328 61.9531 113.609 61.3906C114.922 60.8281 116.062 60.0625 117.031 59.0938C118.031 58.125 118.812 57 119.375 55.7188C119.938 54.4062 120.219 53 120.219 51.5V17.3281Z"
                fill="currentColor" />
            <path
                d="M170.797 54.8281C170.797 56.7656 170.422 58.5938 169.672 60.3125C168.953 62.0312 167.953 63.5312 166.672 64.8125C165.391 66.0938 163.891 67.1094 162.172 67.8594C160.453 68.5781 158.625 68.9375 156.688 68.9375H152.844C150.906 68.9375 149.078 68.5781 147.359 67.8594C145.641 67.1094 144.141 66.0938 142.859 64.8125C141.578 63.5312 140.562 62.0312 139.812 60.3125C139.094 58.5938 138.734 56.7656 138.734 54.8281V33.1719C138.734 31.2344 139.094 29.4062 139.812 27.6875C140.562 25.9688 141.578 24.4688 142.859 23.1875C144.141 21.9062 145.641 20.9062 147.359 20.1875C149.078 19.4375 150.906 19.0625 152.844 19.0625H156.688C158.625 19.0625 160.453 19.4375 162.172 20.1875C163.891 20.9062 165.391 21.9062 166.672 23.1875C167.953 24.4688 168.953 25.9688 169.672 27.6875C170.422 29.4062 170.797 31.2344 170.797 33.1719V54.8281ZM165.031 32.8438C165.031 31.6875 164.812 30.6094 164.375 29.6094C163.938 28.5781 163.344 27.6875 162.594 26.9375C161.844 26.1875 160.953 25.5938 159.922 25.1562C158.922 24.7188 157.844 24.5 156.688 24.5H152.844C151.688 24.5 150.594 24.7188 149.562 25.1562C148.562 25.5938 147.688 26.1875 146.938 26.9375C146.188 27.6875 145.594 28.5781 145.156 29.6094C144.719 30.6094 144.5 31.6875 144.5 32.8438V55.1562C144.5 56.3125 144.719 57.4062 145.156 58.4375C145.594 59.4375 146.188 60.3125 146.938 61.0625C147.688 61.8125 148.562 62.4062 149.562 62.8438C150.594 63.2812 151.688 63.5 152.844 63.5H156.688C157.844 63.5 158.922 63.2812 159.922 62.8438C160.953 62.4062 161.844 61.8125 162.594 61.0625C163.344 60.3125 163.938 59.4375 164.375 58.4375C164.812 57.4062 165.031 56.3125 165.031 55.1562V32.8438Z"
                fill="currentColor" />
            <path
                d="M154.56 53.2L154.88 46.8C155.52 44.9867 156.256 43.2267 157.088 41.52C157.92 39.792 158.795 38.16 159.712 36.624C160.629 35.0667 161.568 33.616 162.528 32.272C163.488 30.928 164.416 29.712 165.312 28.624C166.208 27.5147 167.04 26.5653 167.808 25.776C168.597 24.9653 169.269 24.3253 169.824 23.856L174.016 24.4C173.056 25.4667 172.011 26.7573 170.88 28.272C169.771 29.7653 168.651 31.4187 167.52 33.232C166.389 35.0453 165.291 36.9653 164.224 38.992C163.157 40.9973 162.187 43.056 161.312 45.168C160.437 47.28 159.701 49.392 159.104 51.504C158.528 53.5947 158.155 55.6213 157.984 57.584L150.88 57.04L144.32 40.4L149.696 39.76L154.56 53.2Z"
                fill="currentColor" />
        </svg>



    </div>

    <form class="flex-1 justify-center items-center flex flex-col w-full textColor">
        <h1>{{
            haveAccount ?
            "Login" :
            "Register"
            }}</h1>
        <div class="relative flex flex-col w-full  items-center justify-center">
            <input class="hidden" checked="true" #showPasswd type="checkbox" name="showPasswd" id="showPasswd">
            <div
                class="relative flex flex-col justify-center items-center {{haveAccount ? 'translate-y-[113.3%] delay-150':''}} transition-transform duration-1000 ease-in-out">

                <div class=" flex flex-col justify-center items-center {{errorClass(username)}}">
                    <label for="username">{{haveAccount ?"Username Or Email":"Username"}}</label>
                    <input #identifierInput autocomplete="username" type="text" [(ngModel)]="username" name="username"
                        id="username">
                </div>
            </div>
            <div class="overflow-x-hidden flex flex-col w-full">
                <div
                    class="flex flex-col w-screen items-center justify-center {{errorClass(email)}} {{haveAccount ? 'translate-x-[200%]':''}} transition-transform duration-1000 ease-in-out">
                    <label class="mt-2" for="email">Email</label>
                    <input [disabled]="haveAccount" autocomplete="email" type="email" [(ngModel)]="email" name="email"
                        id="email">
                </div>
                <div
                    class="flex flex-col w-screen items-center justify-center {{errorClass(repeatPassword)}} {{haveAccount ? 'translate-x-[200%]':''}} delay-300 transition-transform duration-1000 ease-in-out">
                    <label class="mt-2" for="repeatPassword">Password</label>
                    <input [disabled]="haveAccount" autocomplete="current-password"
                        type="{{showPasswd.checked ? 'password':'text'}}" [(ngModel)]="repeatPassword"
                        name="repeatPassword" id="repeatPassword">
                </div>
            </div>
            <div
                class="relative w-full flex flex-col justify-center items-center {{errorClass(password)}} {{haveAccount ? '-translate-y-full delay-700':''}} delay-150 transition-transform duration-1000 ease-in-out">
                <label class="mt-2" for="password">{{haveAccount ?"Password":"Confirm Password"}}</label>
                <div class="relative flex">
                    <input autocomplete="current-password" type="{{showPasswd.checked ? 'password':'text'}}"
                        [(ngModel)]="password" name="password" id="password">
                    <div class="w-[24px] aspect-square absolute end-2 top-1/2 -translate-y-1/2 cursor-pointer"
                        (click)="showPasswd.checked =! showPasswd.checked">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="{{showPasswd.checked ? 'showIcon':'hidden'}} icon icon-tabler icon-tabler-eye"
                            width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                            <path
                                d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="{{showPasswd.checked ? 'hidden':'showIcon'}} icon icon-tabler icon-tabler-eye-off"
                            width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M10.585 10.587a2 2 0 0 0 2.829 2.828" />
                            <path
                                d="M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87" />
                            <path d="M3 3l18 18" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class=" flex flex-col w-full ">
                <h3 *ngIf="(username == undefined || password == undefined) && (triedLogin || triedRegister)"
                    class="text-center {{errorClass(undefined)}}">{{result?.status ?? result}}
                </h3>
                <button [disabled]="loading" class="mt-4 flex" (click)="haveAccount ? login():register()">{{
                    haveAccount ?
                    "Login" :
                    "Register"
                    }}
                    <app-loader *ngIf="loading" ngClass="ms-2"></app-loader>
                </button>
                <div class="flex w-full items-center justify-center mt-4 textColor px-4">
                    <h3 class="me-4">Already have an account?</h3>
                    <app-switch
                        (switch)="[haveAccount = !$event,triedLogin = false,triedRegister = false, identifierInput.focus()]"
                        [value]="!haveAccount">
                        <svg iconOn xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-x"
                            width="8" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                            <path d="M6 21v-2a4 4 0 0 1 4 -4h3.5" />
                            <path d="M22 22l-5 -5" />
                            <path d="M17 22l5 -5" />
                        </svg>
                        <svg iconOff xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-check"
                            width="8" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                            <path d="M6 21v-2a4 4 0 0 1 4 -4h4" />
                            <path d="M15 19l2 2l4 -4" />
                        </svg>
                    </app-switch>
                </div>
            </div>
        </div>
    </form>

    <app-modal *ngIf="showModal" (close)="showModal = false" [active]="true">
        <div class="h-full flex flex-col justify-center items-center">
            <h1>{{modalText}}</h1>
        </div>
    </app-modal>

    <div class="w-full flex justify-center p-4 pt-16">
        <div class="w-1/2 flex justify-evenly items-center">
            <h3 class="me-4">Theme {{darkTheme?"dark":"light"}}</h3>
            <app-switch (switch)="changeTheme()" [value]="!darkTheme">
                <svg iconOn xmlns="http://www.w3.org/2000/svg" class=" icon icon-tabler icon-tabler-moon" width="10"
                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
                </svg>
                <svg iconOff xmlns="http://www.w3.org/2000/svg" class=" icon icon-tabler icon-tabler-sunset-2"
                    width="10" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M3 13h1" />
                    <path d="M20 13h1" />
                    <path d="M5.6 6.6l.7 .7" />
                    <path d="M18.4 6.6l-.7 .7" />
                    <path d="M8 13a4 4 0 1 1 8 0" />
                    <path d="M3 17h18" />
                    <path d="M7 20h5" />
                    <path d="M16 20h1" />
                    <path d="M12 5v-1" />
                </svg>
            </app-switch>
        </div>
    </div>

</section>